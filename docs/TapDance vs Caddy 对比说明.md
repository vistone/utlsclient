# TapDance vs Caddyï¼šæœ¬è´¨åŒºåˆ«è¯¦è§£

## ğŸ¯ æ ¸å¿ƒåŒºåˆ«ä¸€å¥è¯æ€»ç»“

**TapDance** æ˜¯åå®¡æŸ¥/éšè”½é€šé“æŠ€æœ¯ï¼Œç”¨äº**ç»•è¿‡ç½‘ç»œå°é”**  
**Caddy** æ˜¯ Web æœåŠ¡å™¨/åå‘ä»£ç†ï¼Œç”¨äº**æä¾› Web æœåŠ¡**

---

## ğŸ“Š è¯¦ç»†å¯¹æ¯”

| ç»´åº¦ | **TapDance** | **Caddy** |
|------|-------------|-----------|
| **æœ¬è´¨** | åå®¡æŸ¥éšè”½é€šé“ | Web æœåŠ¡å™¨ |
| **ç›®çš„** | ç»•è¿‡ç½‘ç»œå®¡æŸ¥ | æ‰˜ç®¡ç½‘ç«™ã€åå‘ä»£ç† |
| **ä½¿ç”¨åœºæ™¯** | è¢«å®¡æŸ¥ç½‘ç»œä¸­çš„ç”¨æˆ· | ä»»ä½•éœ€è¦ Web æœåŠ¡çš„åœºæ™¯ |
| **éƒ¨ç½²ä½ç½®** | ISP å†…éƒ¨ï¼ˆStationï¼‰ | æ•°æ®ä¸­å¿ƒã€äº‘æœåŠ¡å™¨ |
| **æµé‡ç‰¹å¾** | ä¼ªè£…æˆæ­£å¸¸ç½‘ç«™æµé‡ | æ ‡å‡†çš„ Web æœåŠ¡å™¨æµé‡ |
| **å®‰å…¨æ€§** | å¯¹æŠ—å®¡æŸ¥è€…æ£€æµ‹ | æ ‡å‡†çš„ Web å®‰å…¨ |
| **å¯è§æ€§** | éšè—è‡ªå·± | å…¬å¼€æä¾›æœåŠ¡ |
| **ç›®æ ‡ç”¨æˆ·** | è¢«å®¡æŸ¥ç”¨æˆ· | Web ç®¡ç†å‘˜ã€å¼€å‘è€… |

---

## ğŸ” å…·ä½“åŒºåˆ«åˆ†æ

### 1. è®¾è®¡ç›®çš„å®Œå…¨ä¸åŒ

#### TapDanceï¼šåå®¡æŸ¥å·¥å…·

```
ç”¨æˆ·ï¼ˆè¢«å®¡æŸ¥ç½‘ç»œï¼‰-> TapDance -> è®¿é—®è¢«å°é”ç½‘ç«™
         â†‘                â†‘
    æ— æ³•æ­£å¸¸è®¿é—®     é€šè¿‡éšè”½é€šé“ç»•è¿‡
```

**ç›®çš„**ï¼š
- å¸®åŠ©ç”¨æˆ·ç»•è¿‡ç½‘ç»œå®¡æŸ¥
- è®¿é—®è¢«å°é”çš„ç½‘ç«™å’ŒæœåŠ¡
- ä¿æŠ¤é€šä¿¡ä¸è¢«æ£€æµ‹å’Œé˜»æ­¢

#### Caddyï¼šWeb æœåŠ¡å™¨

```
å®¢æˆ·ç«¯ -> Caddy -> Web åº”ç”¨
           â†‘
    æä¾› HTTP/HTTPS æœåŠ¡
```

**ç›®çš„**ï¼š
- æ‰˜ç®¡ç½‘ç«™å’Œ Web åº”ç”¨
- åå‘ä»£ç†å¤šä¸ªåç«¯æœåŠ¡
- è‡ªåŠ¨ HTTPS è¯ä¹¦ç®¡ç†
- è´Ÿè½½å‡è¡¡

### 2. å·¥ä½œæ–¹å¼å®Œå…¨ä¸åŒ

#### TapDance çš„ä¸‰å±‚æ¶æ„

```
ç”¨æˆ· -> Decoyï¼ˆä¼ªè£…æˆæ­£å¸¸ç½‘ç«™ï¼‰ -> Stationï¼ˆéšè—ä»£ç†ï¼‰ -> ç›®æ ‡ç½‘ç«™
      â†‘                        â†‘
  çœ‹èµ·æ¥åƒè®¿é—® site.io    çœŸæ­£çš„ä»£ç†è½¬å‘
```

**ç‰¹ç‚¹**ï¼š
- **è¢«åŠ¨é‡å®šå‘**ï¼šDecoy è¢«åŠ¨è½¬å‘ç‰¹å®šæµé‡
- **æµé‡ä¼ªè£…**ï¼šçœ‹èµ·æ¥åƒæ­£å¸¸ç½‘ç«™è®¿é—®
- **éšè”½æ€§**ï¼šå®¡æŸ¥è€…éš¾ä»¥æ£€æµ‹

#### Caddy çš„æ ‡å‡†æ¶æ„

```
å®¢æˆ·ç«¯ -> Caddy -> åç«¯æœåŠ¡å™¨
          â†‘
   æ ‡å‡† HTTP/HTTPS åè®®
   åå‘ä»£ç†æˆ–é™æ€æ–‡ä»¶æœåŠ¡
```

**ç‰¹ç‚¹**ï¼š
- **ä¸»åŠ¨æœåŠ¡**ï¼šç›´æ¥å“åº”å®¢æˆ·ç«¯è¯·æ±‚
- **æ ‡å‡†åè®®**ï¼šHTTP/HTTPS/TLS
- **å¯è§æ€§**ï¼šå…¬å¼€æä¾›æœåŠ¡

### 3. éƒ¨ç½²æ–¹å¼ä¸åŒ

#### TapDance Station éƒ¨ç½²

```yaml
ä½ç½®: ISP å†…éƒ¨ç½‘ç»œ
å¯è§æ€§: éšè—ï¼Œä¸ä¸»åŠ¨å¯¹å¤–æä¾›æœåŠ¡
å…³ç³»: ä¸ Decoy é…åˆå·¥ä½œ
å®¢æˆ·ç«¯: éœ€è¦ç‰¹æ®Šå®¢æˆ·ç«¯ï¼ˆgotapdanceï¼‰
```

#### Caddy éƒ¨ç½²

```yaml
ä½ç½®: ä»»ä½•ç½‘ç»œä½ç½®ï¼ˆäº‘æœåŠ¡å™¨ã€VPSç­‰ï¼‰
å¯è§æ€§: å…¬å¼€ï¼Œä¸»åŠ¨æä¾›æœåŠ¡
å…³ç³»: ç‹¬ç«‹å·¥ä½œ
å®¢æˆ·ç«¯: ä»»ä½•æ ‡å‡† HTTP å®¢æˆ·ç«¯
```

### 4. æŠ€æœ¯å®ç°ä¸åŒ

#### TapDance æ ¸å¿ƒæŠ€æœ¯

```go
// TapDance å®¢æˆ·ç«¯
tapdance.AssetsSetDir("./assets/")
conn, err := tapdance.Dial("tcp", "censoredsite.com:80")
// éšè—åœ¨ç½‘ç»œæµé‡ä¸­
```

**å…³é”®æŠ€æœ¯**ï¼š
- **Decoy Routing**ï¼šè¯±é¥µè·¯ç”±
- **è¢«åŠ¨é‡å®šå‘**ï¼šè¢«åŠ¨æµé‡è½¬å‘
- **æµé‡æ··æ·†**ï¼šæµé‡ä¼ªè£…æŠ€æœ¯
- **Station æ³¨å†Œ**ï¼šå®¢æˆ·ç«¯æ³¨å†Œæœºåˆ¶

#### Caddy æ ¸å¿ƒæŠ€æœ¯

```go
// Caddy é…ç½®
:8080 {
    reverse_proxy backend:9000
    tls automatic
}
```

**å…³é”®æŠ€æœ¯**ï¼š
- **HTTP/HTTPS æœåŠ¡å™¨**
- **åå‘ä»£ç†**
- **è‡ªåŠ¨ TLS**ï¼ˆLet's Encryptï¼‰
- **è´Ÿè½½å‡è¡¡**
- **é™æ€æ–‡ä»¶æœåŠ¡**

### 5. ä½¿ç”¨åœºæ™¯å¯¹æ¯”

#### TapDance ä½¿ç”¨åœºæ™¯

âœ… **é€‚åˆ**ï¼š
- ç”Ÿæ´»åœ¨ç½‘ç»œå®¡æŸ¥åœ°åŒºçš„ç”¨æˆ·
- éœ€è¦è®¿é—®è¢«å°é”ç½‘ç«™
- ç ”ç©¶åå®¡æŸ¥æŠ€æœ¯
- ä¿æŠ¤é€šä¿¡éšç§

âŒ **ä¸é€‚åˆ**ï¼š
- æä¾›å…¬å¼€ Web æœåŠ¡
- æ‰˜ç®¡ç½‘ç«™
- åå‘ä»£ç†ä¼ä¸šå†…éƒ¨æœåŠ¡
- æ ‡å‡†çš„ Web åº”ç”¨éƒ¨ç½²

#### Caddy ä½¿ç”¨åœºæ™¯

âœ… **é€‚åˆ**ï¼š
- æ‰˜ç®¡ç½‘ç«™å’Œ Web åº”ç”¨
- åå‘ä»£ç†å¾®æœåŠ¡
- è´Ÿè½½å‡è¡¡
- è‡ªåŠ¨ HTTPS ç®¡ç†
- æ ‡å‡†çš„ä¼ä¸š Web æœåŠ¡

âŒ **ä¸é€‚åˆ**ï¼š
- ç»•è¿‡ç½‘ç»œå®¡æŸ¥
- å¯¹æŠ— GFW ç­‰å®¡æŸ¥ç³»ç»Ÿ
- éœ€è¦éšè”½æ€§çš„åœºæ™¯

---

## ğŸ¤” ä¸ºä»€ä¹ˆå®¹æ˜“æ··æ·†ï¼Ÿ

### ç›¸ä¼¼ä¹‹å¤„

1. **éƒ½ç”¨ Go ç¼–å†™**
2. **éƒ½æ¶‰åŠç½‘ç»œé€šä¿¡**
3. **éƒ½ä½¿ç”¨ TLS/HTTPS**
4. **éƒ½æ˜¯å¼€æºé¡¹ç›®**

### æ ¹æœ¬åŒºåˆ«

è™½ç„¶éƒ½ç”¨ HTTPSï¼Œä½†ï¼š

**TapDance çš„ HTTPS**ï¼š
- ç”¨äº**ä¼ªè£…**æµé‡
- çœ‹èµ·æ¥åƒè®¿é—®æ­£å¸¸ç½‘ç«™
- **çœŸæ­£çš„ç›®çš„æ˜¯ç»•è¿‡å®¡æŸ¥**

**Caddy çš„ HTTPS**ï¼š
- ç”¨äº**ä¿æŠ¤**é€šä¿¡
- æä¾›æ ‡å‡†çš„å®‰å…¨ Web æœåŠ¡
- **çœŸæ­£çš„ç›®çš„æ˜¯æœåŠ¡ Web å†…å®¹**

---

## ğŸ“š å®é™…åº”ç”¨ç¤ºä¾‹

### TapDance åº”ç”¨ç¤ºä¾‹

**åœºæ™¯**ï¼šç”¨æˆ·åœ¨ä¸­å›½å¤§é™†ï¼Œæƒ³è®¿é—® GitHub

```
ç”¨æˆ· -> TapDanceå®¢æˆ·ç«¯ 
     -> Decoyï¼ˆä¼ªè£…æˆæ™®é€šç½‘ç«™ï¼‰
     -> Stationï¼ˆéšè—ä»£ç†ï¼‰
     -> GitHub âœ…
```

**ä»£ç **ï¼š
```go
// ç”¨æˆ·ä¾§ä»£ç 
tapdance.AssetsSetDir("./assets/")
conn, err := tapdance.Dial("tcp", "github.com:443")
// ç°åœ¨å¯ä»¥è®¿é—® GitHub äº†
```

### Caddy åº”ç”¨ç¤ºä¾‹

**åœºæ™¯**ï¼šåœ¨äº‘æœåŠ¡å™¨ä¸Šæ‰˜ç®¡ä¸€ä¸ªç½‘ç«™

```
ç”¨æˆ· -> Caddyï¼ˆäº‘æœåŠ¡å™¨ 80/443ï¼‰
     -> åç«¯ Web åº”ç”¨ âœ…
     -> è¿”å›ç½‘é¡µå†…å®¹
```

**é…ç½®**ï¼š
```caddy
example.com {
    root * /var/www/html
    file_server
    tls automatic
}
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆå¯¹æ¯”

### TapDance æŠ€æœ¯æ ˆ

```
gotapdance (å®¢æˆ·ç«¯)
    â†“
uTLS (TLS æŒ‡çº¹å¯¹æŠ—)
    â†“
Decoy + Station
    â†“
ç›®æ ‡ç½‘ç«™
```

**ç›¸å…³æŠ€æœ¯**ï¼š
- uTLSï¼ˆæŒ‡çº¹å¯¹æŠ—ï¼‰
- uQUICï¼ˆQUIC å¯¹æŠ—ï¼‰
- Decoy Routing
- è¢«åŠ¨è½¬å‘

### Caddy æŠ€æœ¯æ ˆ

```
Caddy Server
    â†“
HTTP/HTTPS åè®®
    â†“
åå‘ä»£ç† / é™æ€æ–‡ä»¶
    â†“
åç«¯æœåŠ¡
```

**ç›¸å…³æŠ€æœ¯**ï¼š
- æ ‡å‡† HTTP åè®®
- TLS/SSL è¯ä¹¦
- è´Ÿè½½å‡è¡¡
- åå‘ä»£ç†

---

## ğŸ’¡ å¦‚ä½•é€‰æ‹©ï¼Ÿ

### é€‰æ‹© TapDance å¦‚æœä½ ï¼š

- âœ“ ç”Ÿæ´»åœ¨æœ‰ç½‘ç»œå®¡æŸ¥çš„åœ°åŒº
- âœ“ éœ€è¦è®¿é—®è¢«å°é”çš„ç½‘ç«™
- âœ“ ç ”ç©¶åå®¡æŸ¥æŠ€æœ¯
- âœ“ éœ€è¦é«˜åº¦éšè”½çš„é€šä¿¡
- âœ“ éšç§ä¿æŠ¤æ˜¯é¦–è¦è€ƒè™‘

### é€‰æ‹© Caddy å¦‚æœä½ ï¼š

- âœ“ éœ€è¦æ‰˜ç®¡ç½‘ç«™
- âœ“ éœ€è¦åå‘ä»£ç†æœåŠ¡
- âœ“ éœ€è¦è‡ªåŠ¨ HTTPS
- âœ“ æ ‡å‡†çš„ Web éƒ¨ç½²éœ€æ±‚
- âœ“ ä¼ä¸šçº§ Web æœåŠ¡

---

## ğŸ”— å¯ä»¥ç»“åˆä½¿ç”¨å—ï¼Ÿ

**å¯ä»¥ï¼** ä¸¤ç§æŠ€æœ¯å¯ä»¥åœ¨ä¸åŒåœºæ™¯ç»“åˆï¼š

### åœºæ™¯ 1ï¼šé€šè¿‡ TapDance è®¿é—® Caddy æ‰˜ç®¡çš„æœåŠ¡

```
è¢«å®¡æŸ¥ç”¨æˆ· -> TapDance -> Station -> Caddyï¼ˆæ‰˜ç®¡ç½‘ç«™ï¼‰
```

### åœºæ™¯ 2ï¼šåœ¨ Caddy ä¸Šéƒ¨ç½² TapDance Decoy

```
Caddy (æ‰˜ç®¡ Decoy) -> è¢«åŠ¨è½¬å‘ -> TapDance Station
```

### åœºæ™¯ 3ï¼šä½¿ç”¨ Caddy ä½œä¸º TapDance çš„åç«¯

```
ç”¨æˆ· -> TapDance -> Caddy -> Web åº”ç”¨
```

---

## ğŸ“– å‚è€ƒèµ„æº

### TapDance
- **GitHub**: https://github.com/refraction-networking/gotapdance
- **è®ºæ–‡**: "TapDance: End-to-Middle Anticensorship without Flow Blocking"
- **å®˜æ–¹**: https://refraction.network
- **ç›®çš„**: åå®¡æŸ¥æŠ€æœ¯

### Caddy
- **GitHub**: https://github.com/caddyserver/caddy
- **å®˜ç½‘**: https://caddyserver.com
- **æ–‡æ¡£**: https://caddyserver.com/docs
- **ç›®çš„**: Web æœåŠ¡å™¨å’Œåå‘ä»£ç†

---

## ğŸ“ æ€»ç»“

| ç‰¹æ€§ | TapDance | Caddy |
|------|----------|-------|
| **æœ¬è´¨** | åå®¡æŸ¥éšè”½é€šé“ | Web æœåŠ¡å™¨ |
| **ä¸»è¦ç”¨äº** | ç»•è¿‡ç½‘ç»œå°é” | æ‰˜ç®¡ Web æœåŠ¡ |
| **éƒ¨ç½²ä½ç½®** | ISP å†…éƒ¨ | äº‘æœåŠ¡å™¨/VPS |
| **å¯è§æ€§** | éšè— | å…¬å¼€ |
| **åè®®** | ä¼ªè£…çš„æ ‡å‡†åè®® | æ ‡å‡†åè®® |
| **ç›®æ ‡ç”¨æˆ·** | è¢«å®¡æŸ¥ç”¨æˆ· | Web å¼€å‘è€… |
| **å¯å¦æ›¿ä»£** | âŒ å®Œå…¨ä¸åŒ | âŒ å®Œå…¨ä¸åŒ |

**ç»“è®º**ï¼šTapDance å’Œ Caddy **å®Œå…¨ä¸ç›¸å…³**ï¼Œç”¨é€”å®Œå…¨ä¸åŒï¼Œ**ä¸èƒ½äº’ç›¸æ›¿ä»£**ã€‚

---

**åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-10  
**è¯´æ˜**ï¼šTapDance å’Œ Caddy çš„æœ¬è´¨åŒºåˆ«å¯¹æ¯”æ–‡æ¡£
